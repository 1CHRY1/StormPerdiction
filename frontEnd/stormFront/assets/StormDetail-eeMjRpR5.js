import{g as U,r as f,v as $,c as x,h as j,o as q,b as p,d as I,e,f as n,i as u,t as o,u as g,l as d,k as y,D as V,F as H,n as L,p as M,q as O,s as A,_ as G}from"./index-l0_1r5o4.js";import{m as J,g as K,a as T,i as P,n as E}from"./api-DykwizrF.js";import"./stationInfo-DixEZJLI.js";const c=h=>(O("data-v-4c4b3fab"),h=h(),A(),h),Q={class:"h-full w-full flex bg-slate-300"},W={class:"flex-auto"},X={class:"text-xl font-semibold text-[#406abf]"},Y={class:"flex flex-col w-[20rem] bg-white"},Z={class:"h-60 m-2 border border-zinc-300"},ee=c(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点详情",-1)),te={class:"mx-3 my-2 flex flex-col"},ae={class:"my-1 text-lg"},le=c(()=>e("span",{class:"inline-block pr-2"},"站点名称:",-1)),se={class:"inline-block pr-3"},oe={class:"my-1"},ne=c(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点类型:",-1)),ce={class:"inline-block pr-3"},ie={class:"my-1"},re=c(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点位置:",-1)),ue={class:"inline-block pr-3"},de={class:"my-1"},_e=c(()=>e("span",{class:"inline-block pr-2 text-lg"},"台风状况:",-1)),pe={class:"inline-block pr-3"},he={class:"my-1"},ve=c(()=>e("span",{class:"inline-block pr-2 text-lg"},"当前时间:",-1)),be={class:"inline-block pr-3"},me={class:"flex flex-col flex-auto m-2 top-1 border border-zinc-300"},fe=c(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点选择",-1)),xe=U({__name:"StormDetail",setup(h){let _=null;const S=f(),k=f("graph"),s=$(),N=J(),t=f(null),l=x(()=>K(s.currentStationID)),b=x(()=>t.value===null||t.value.hpre.length!==0),B=x(()=>{if(t.value){const m=[];return t.value.hpre.forEach((i,r)=>{m.push({hpre:i,time:t.value.time[r],hyubao:t.value.isTyphoon?t.value.hyubao[r]:null,hadd:t.value.isTyphoon?t.value.hadd[r]:null})}),m}else return[]});return j(s,async()=>{t.value=await T(s.currentStationID),_&&(_.clear(),E(_,t.value,l.value,b.value))}),q(async()=>{s.currentStationID==="0"&&(s.currentStationID="1"),t.value=await T(s.currentStationID),_=P(S),b.value&&E(_,t.value,l.value,b.value)}),(m,i)=>{var w;const r=d("el-tab-pane"),v=d("el-table-column"),C=d("el-table"),z=d("el-tabs"),F=d("el-radio"),R=d("el-radio-group");return p(),I("div",Q,[e("div",W,[n(z,{modelValue:k.value,"onUpdate:modelValue":i[0]||(i[0]=a=>k.value=a),type:"border-card",class:"bg-white h-full"},{default:u(()=>[n(r,{label:"折线图",name:"graph"},{default:u(()=>[e("div",{ref_key:"echartsRef",ref:S,class:"h-[86vh]"},null,512)]),_:1}),n(r,{label:"数据表",name:"table",class:"flex flex-col items-center justify-center max-w-[80rem]"},{default:u(()=>[e("div",X,o(`${l.value.name}站点 ${l.value.time} 历史潮位表`),1),n(C,{data:B.value,class:"h-[84vh]","highlight-current-row":!0},{default:u(()=>{var a,D;return[n(v,{prop:"time",label:"时间"}),n(v,{align:"center",prop:"hpre",label:"天文潮位 (hpre)"}),(a=t.value)!=null&&a.isTyphoon?(p(),y(v,{key:0,align:"center",prop:"hyubao",label:"总潮位 (hyubao)"})):V("",!0),(D=t.value)!=null&&D.isTyphoon?(p(),y(v,{key:1,align:"center",prop:"hadd",label:"台风增水"})):V("",!0)]}),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),e("div",Y,[e("div",Z,[ee,e("div",te,[e("div",ae,[le,e("span",se,o(l.value.name),1)]),e("div",oe,[ne,e("span",ce,o(l.value.type==="sea"?"沿海":"沿江"),1)]),e("div",ie,[re,e("span",ue,o(l.value.lon),1),e("span",null,o(l.value.lat),1)]),e("div",de,[_e,e("span",pe,o((w=t.value)!=null&&w.isTyphoon?"有台风":"无台风"),1)]),e("div",he,[ve,e("span",be,o(l.value.time),1)])])]),e("div",me,[fe,n(R,{modelValue:g(s).currentStationID,"onUpdate:modelValue":i[1]||(i[1]=a=>g(s).currentStationID=a),class:"py-2 px-4 block overflow-auto h-[62vh]"},{default:u(()=>[(p(!0),I(H,null,L(g(N),a=>(p(),y(F,{key:a.id,label:a.id,class:"block"},{default:u(()=>[M(o(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])])])}}}),ke=G(xe,[["__scopeId","data-v-4c4b3fab"]]);export{ke as default};
