import{g as N,r as b,v as M,c as f,h as z,o as F,b as r,d as S,e,f as p,i as m,t as l,u as k,l as _,k as x,D as w,F as q,n as L,p as O,q as P,s as R,_ as U}from"./index-l0_1r5o4.js";import{b as j,c as A,d as D,i as G,e as I}from"./util-ZoIYSbFy.js";import"./stationInfo-DixEZJLI.js";import"./getStation-DC6WyyE7.js";const n=u=>(P("data-v-c5ef6278"),u=u(),R(),u),H={class:"h-full w-full flex bg-slate-300"},J={class:"flex-auto flex flex-col items-center bg-white px-4 m-3"},K=n(()=>e("div",{class:"p-4 text-2xl font-semibold text-[#406abf]"},l("模型计算结果"),-1)),Q={class:"flex flex-col w-[20rem] bg-white"},W={class:"h-52 m-2 border border-zinc-300"},X=n(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点详情",-1)),Y={class:"mx-3 my-2 flex flex-col"},Z={class:"my-1 text-lg"},$=n(()=>e("span",{class:"inline-block pr-2"},"站点名称:",-1)),ee={class:"inline-block pr-3"},te={class:"my-1"},ae=n(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点类型:",-1)),oe={class:"inline-block pr-3"},se={class:"my-1"},le=n(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点位置:",-1)),ne={class:"inline-block pr-3"},ce={class:"my-1"},ie=n(()=>e("span",{class:"inline-block pr-2 text-lg"},"当前时间:",-1)),re={class:"inline-block pr-3"},ue={class:"flex flex-col flex-auto m-2 top-1 border border-zinc-300"},de=n(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点选择",-1)),pe=N({__name:"ModelDetail",setup(u){let i=null;const T=b(),c=M(),g=b([]),t=b(null),s=f(()=>j(c.currentStationID)),h=f(()=>t.value===null||t.value.hpre.length!==0),V=f(()=>{if(t.value){const v=[];return t.value.hpre.forEach((d,a)=>{v.push({hpre:d,time:t.value.time[a],hyubao:t.value.isTyphoon?t.value.hyubao[a]:null,hadd:t.value.isTyphoon?t.value.hadd[a]:null})}),v}else return[]});return z(c,async()=>{t.value=await D(c.currentStationID),i&&(i.clear(),I(i,t.value,s.value,h.value))}),F(async()=>{g.value=await A(),t.value=await D(c.currentStationID),i=G(T),h.value&&I(i,t.value,s.value,h.value)}),(v,d)=>{const a=_("el-table-column"),E=_("el-table"),B=_("el-radio"),C=_("el-radio-group");return r(),S("div",H,[e("div",J,[K,p(E,{data:V.value,class:"h-[84vh]","highlight-current-row":!0},{default:m(()=>{var o,y;return[p(a,{prop:"time",label:"时间"}),p(a,{align:"center",prop:"hpre",label:"天文潮位 (hpre)"}),(o=t.value)!=null&&o.isTyphoon?(r(),x(a,{key:0,align:"center",prop:"hyubao",label:"总潮位 (hyubao)"})):w("",!0),(y=t.value)!=null&&y.isTyphoon?(r(),x(a,{key:1,align:"center",prop:"hadd",label:"台风增水"})):w("",!0)]}),_:1},8,["data"])]),e("div",Q,[e("div",W,[X,e("div",Y,[e("div",Z,[$,e("span",ee,l(s.value.name),1)]),e("div",te,[ae,e("span",oe,l(s.value.type==="sea"?"沿海":"沿江"),1)]),e("div",se,[le,e("span",ne,l(s.value.lon),1),e("span",null,l(s.value.lat),1)]),e("div",ce,[ie,e("span",re,l(s.value.time),1)])])]),e("div",ue,[de,p(C,{modelValue:k(c).currentStationID,"onUpdate:modelValue":d[0]||(d[0]=o=>k(c).currentStationID=o),class:"py-2 px-4 block overflow-auto h-[66vh]"},{default:m(()=>[(r(!0),S(q,null,L(g.value,o=>(r(),x(B,{key:o.id,label:o.id,class:"block"},{default:m(()=>[O(l(o.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])])])}}}),fe=U(pe,[["__scopeId","data-v-c5ef6278"]]);export{fe as default};
