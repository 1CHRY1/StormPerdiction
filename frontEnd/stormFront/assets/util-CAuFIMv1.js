import{i as l}from"./stationInfo-DixEZJLI.js";import{g as m,a as c}from"./getStation-DC6WyyE7.js";const g=async()=>{const t=await m("precise");return Object.entries(t).map(a=>({id:a[1].id,label:a[1].name}))},p=t=>l(t.value),h=async(t,e,a,n,o)=>{const i=Math.min(...e.hpre,...e.hyubao),r=Math.max(...e.hpre,...e.hyubao),s={title:o?void 0:{text:`${a.name}站点 ${a.time.split(" ")[0]} 精度评定折线图`,textStyle:{color:"hsl(220, 50%, 50%)",fontSize:20}},tooltip:{trigger:"axis"},legend:{data:["预报数据","实测数据"],right:"15%",top:"1%"},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},toolbox:o?void 0:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e.time,axisLabel:{padding:[0,0,0,50],showMaxLabel:!0,alignMaxLabel:"right"}},yAxis:{type:"value",min:Math.ceil(i-3),max:Math.floor(r+3),axisLabel:{formatter:function(d){return d.toFixed(2)}}},dataZoom:o?void 0:[{type:"inside",start:0,end:100},{start:0,end:20}],series:[{name:"预报数据",type:"line",smooth:!0,data:e.hyubao},{name:"实测数据",type:"scatter",symbolSize:10,data:e.hpre,zlevel:10}],graphic:{elements:[{type:"text",style:{text:"单位:(m)",x:3,y:730,fontSize:13}}]}};n||(s.graphic={type:"text",left:"center",top:"middle",silent:!0,invisible:e.hpre.length>0,style:{fill:"#9d9d9d",fontWeight:"bold",text:"该时间段暂无数据",fontFamily:"Microsoft YaHei",fontSize:"25px"}}),s&&t.setOption(s)},f=async t=>{const e=await c("precise");t.addSource("stations",{type:"geojson",data:e,attribution:"name"});const a=await new Promise(n=>{t.loadImage("/png/custom_marker.png",(o,i)=>{n(i)})});t.addImage("station-marker",a),t.addLayer({id:"stations",source:"stations",type:"symbol",layout:{"icon-image":"station-marker","icon-size":.6,"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,1.25],"text-anchor":"top","text-size":18},paint:{"text-color":"#e2e8f0"}})};export{f as a,h as d,g,p as i};
