import{a as l}from"./initMap-D0w7y-qV.js";import{g as f,v as m,r as s,o as d,x as y,b as x,d as _,e as h}from"./index-DQkqiHjE.js";import{a as S}from"./util-CAuFIMv1.js";import"./stationInfo-DixEZJLI.js";import"./getStation-DC6WyyE7.js";const k={class:"relative h-full w-full"},C=f({__name:"AccuracyMapView",setup(w){const i=m(),r=s(null),c=s(!1),p=s(0),u=s(0);return d(async()=>{const o=await l(r.value,{center:[120.55,32.08],zoom:6.5});S(o),o.on("click",t=>{const e=[[t.point.x-3,t.point.y-3],[t.point.x+3,t.point.y+3]];if(o.getLayer("stations")){const a=o.queryRenderedFeatures(e,{layers:["stations"]});if(a&&a[0]){const n=a[0].properties.id;i.currentStationID=n,y.push("/accuracy-assessment/data")}}}),o.on("mousemove","stations",t=>{const e=[[t.point.x-3,t.point.y-3],[t.point.x+3,t.point.y+3]];if(o.getLayer("stations")){const a=o.queryRenderedFeatures(e,{layers:["stations"]});if(a&&a[0]){const n=a[0].properties.id;i.currentStationID=n,c.value=!0,p.value=t.point.x,u.value=t.point.y}}}),o.on("mouseleave","stations",()=>{c.value=!1})}),(o,t)=>(x(),_("div",k,[h("div",{ref_key:"mapContainerRef",ref:r,class:"map-container h-full w-full"},null,512)]))}});export{C as default};
