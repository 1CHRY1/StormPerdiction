import{U as pe,B as ve,N as Nt,S as ct,k as kt,l as Mt}from"./initMap-D0w7y-qV.js";import{I as M,J as Ke}from"./index-DQkqiHjE.js";function It(n,e){switch(n){case Uint8Array:return new Uint8Array(e);case Uint16Array:return new Uint16Array(e/2);case Uint32Array:return new Uint32Array(e/4);case Float32Array:return new Float32Array(e/4);default:throw new Error("Unsupported data type")}}function Gt(n){let e=n.byteLength,t=(4-e%4)%4;if(t>0){let r=It(n.constructor,e+t);for(let s=0;s<n.length;s++)r[s]=n[s];return r}return n}class Dt{constructor(e,t){this.uuid=pe(),this.name=e,this.length=t.length,this._data=Gt(t),this.onChanges=[],this.structure=[],this.stride=0,this.refCount=0}use(){return this.refCount++,this}release(){return--this.refCount===0&&this.destroy(),null}registerCallback(e){return this.onChanges.push(e),this.onChanges.length-1}removeCallback(e){return this.onChanges[e]=null,null}get value(){return this._data}set value(e){this._data=e,this.onChanges.forEach(t=>t&&t())}setIndexed(e,t){this._data[e]=t,this.onChanges.forEach(r=>r&&r())}getIndexed(e){return this._data[e]}fill(e){this._data.fill(e),this.onChanges.forEach(t=>t&&t())}element(e,t){if(t!==void 0)this.setIndexed(e,t);else return this.getIndexed(e)}destroy(){this.uuid=null,this.name=null,this._data=null,this.onChanges=[],this.structure=[],this.stride=null}}function Pn(n,e="arrayRef"){return new Dt(e,n)}function jt(n){let e="",t=1;if(n instanceof Float32Array)e="float32",t=4;else if(n instanceof Int32Array)e="int32",t=4;else if(n instanceof Uint32Array)e="uint32",t=4;else return"Unknown Format";return{format:e,bytesPerComponent:t}}class Fe extends ve{constructor(e){let t=!1,r=GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC;t=e.randomAccessible===void 0?t:e.randomAccessible,t&&(r|=GPUBufferUsage.STORAGE);const s={name:e.name,usage:e.usage?e.usage:r,size:e.resource.arrayRef.value.byteLength};super(s),this.registerStrutureMap(e.resource.arrayRef,e.resource.dataOffset,e.resource.size),this.attributes=[],this.stride=0;const{format:i,bytesPerComponent:o}=jt(e.resource.arrayRef.value);this.bytesPerComponent=o,e.resource.structure.forEach(a=>{this.attributes.push({format:i+(a.components>1?`x${a.components}`:""),offset:this.stride}),this.stride+=o*a.components})}static create(e){return new Fe(e)}getComponentsPerElement(){return this.stride/this.bytesPerComponent}destroy(){this.stride=null,this.attributes=[],super.destroy()}}function Cn(n){return Fe.create(n)}class Ne extends ve{constructor(e){const t={name:e.name,usage:e.usage?e.usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC,size:e.resource.arrayRef.value.byteLength};super(t),this.componetsPerElement=e.resource.components?e.resource.components:0,this.registerStrutureMap(e.resource.arrayRef,e.resource.dataOffset,e.resource.size)}static create(e){return new Ne(e)}destroy(){this.componetsPerElement=null,super.destroy()}}function Un(n){return Ne.create(n)}function $t(n){return n instanceof Uint16Array?"uint16":n instanceof Uint32Array?"uint32":"Unknown Format"}class ke extends ve{constructor(e){let t=!1,r=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC;t=e.randomAccessible===void 0?t:e.randomAccessible,t&&(r|=GPUBufferUsage.STORAGE);const s={name:e.name,usage:e.usage?e.usage:r,size:e.resource.arrayRef.value.byteLength};super(s),this.length=e.resource.arrayRef.value.length,this.type=$t(e.resource.arrayRef.value),this.registerStrutureMap(e.resource.arrayRef,e.resource.dataOffset,e.resource.size)}static create(e){return new ke(e)}destroy(){this.length=null,this.type=null,super.destroy()}}function Ln(n){return ke.create(n)}class Me extends Nt{constructor(e){e===void 0?super("u32",0):super("u32",e)}static create(e){return new Me(e)}set n(e){this._data=e}get n(){return this._data}add(e){return this._data+=e,this}}function vn(n){return Me.create(n)}function Fn(n){return{type:"u32",data:n!==void 0?n:0}}class me extends ct{constructor(e){super(),this.name=e.name,this.shaderModule=void 0,this.code=e.codeFunc,this.code()&&this.needUpdate()}static create(e){return new me(e)}needUpdate(){M.addToUpdateList(this)}exportDescriptor(){return{label:this.name,code:this.code()}}update(){M.dispatchEvent({type:"createShader",emitter:this})}isComplete(){return!!this.shaderModule}destroy(){this.code=null,this.shaderModule=null,super.destroy()}}function Nn(n){return me.create(n)}class Ie extends ct{constructor(e){var r,s;super(),this.uniforms=[],this.sharedUniforms=[],this.indexBinding=e.index,this.indexBinding&&this.indexBinding.buffer.use(),this.indirectBinding=e.indirect?{buffer:e.indirect.buffer.use(),byteOffset:e.indirect.byteOffset?e.indirect.byteOffset:0}:void 0,this.vertexBindings=[],this.storageBindings=[],this.textureBindings=[],this.samplerBindings=[],this.layouts=[],this.vertexLayouts=new Array(e.vertices?e.vertices.length:0),this.groups=[],this.name=e.name?e.name:"Binding",e.vertices&&e.vertices.forEach(i=>{this.addVertexBuffer(i)});let t=0;this.uniformOrder=0,(e.uniforms||e.sharedUniforms)&&(this.uniformOrder=t++,(r=e.uniforms)==null||r.forEach(i=>this.addUniformBlock(i)),(s=e.sharedUniforms)==null||s.forEach(i=>this.sharedUniforms.push({buffer:i.buffer.use(),visibility:i.visibility||GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE}))),this.storageOrder=0,e.storages&&(this.storageOrder=t++),e.storages&&e.storages.forEach(i=>{this.addStorageBuffer(i)}),this.textureOrder=0,e.textures&&(this.textureOrder=t++),e.textures&&e.textures.forEach(i=>{this.addTexture(i)}),e.samplers&&e.samplers.forEach((i,o)=>{this.addSampler(o,i)}),this.isIndirect=e.range===void 0,this.isIndirect||(this.range=e.range),this.isComplete=!1,this.uniformBufferReady=!1,this.released=!1,M.addBinding(this),this.executable=!0}static create(e){return new Ie(e)}addUniformBlock(e){this.uniforms.push({ref:new kt({map:e.map,name:e.name,dynamic:e.dynamic!==void 0?e.dynamic:!1}),visibility:e.visibility||GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE});const t=[];this.uniforms.forEach(r=>t.push(r.ref)),this.uniformBuffer=Mt.create({name:`Uniform buffer (${this.name})`,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC,blocks:t}).use(),this.uniformBufferReady=!0}addVertexBuffer(e){let t=!1;t=e.isInstanced===void 0?t:e.isInstanced,this.vertexBindings.push({buffer:e.buffer.use(),stepMode:t?"instance":"vertex",visibility:e.visibility||GPUShaderStage.VERTEX})}addStorageBuffer(e){const t=e.writable!==void 0?e.writable:!1;this.storageBindings.push({buffer:e.buffer.use(),type:t?"storage":"read-only-storage",visibility:t?GPUShaderStage.COMPUTE:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE})}addTexture(e){let t="read-only",r=e.asStorage!==void 0?e.asStorage:!1,s=GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE;r&&(s=GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,e.texture.computable&&(t="write-only")),e.visibility&&(s=e.visibility),this.textureBindings.push({texture:e.texture.use(),callbackIndex:e.texture.registerCallback(()=>{this.isComplete&&M.dispatchEvent({type:"createBindGroup",emitter:this,bindGroupType:"texture",order:this.textureOrder})}),asStorage:r,visibility:s,accessibility:t,sampleType:e.sampleType||"float",multisampled:e.multisampled!==void 0?e.multisampled:!1,viewDimension:e.viewDimension||"2d"})}addSampler(e,t){this.samplerBindings[e]={sampler:t.sampler.use(),bindingType:t.bindingType||"filtering",visibility:t.visibility||GPUShaderStage.FRAGMENT}}createUniformBindGroupLayout(e){if(!this.uniforms.length&&!this.sharedUniforms.length)return;const t=new Array(this.uniforms.length+this.sharedUniforms.length);let r=0;this.uniforms.concat(this.sharedUniforms).forEach(s=>{t[r]={binding:r++,visibility:s.visibility,buffer:{type:"uniform"}}}),this.layouts[this.uniformOrder]=e.createBindGroupLayout({label:"Uniform binding group layout",entries:t})}createUniformBindGroup(e){if(!this.uniforms.length&&!this.sharedUniforms.length)return;const t=new Array(this.uniforms.length+this.sharedUniforms.length);let r=0;this.uniforms.forEach(s=>{const i=this.uniformBuffer.areaMap[s.ref.name];t[r]={binding:r++,resource:{buffer:this.uniformBuffer.buffer,offset:i.start,size:i.length}}}),this.sharedUniforms.forEach(s=>{t[r]={binding:r++,resource:{buffer:s.buffer.buffer}}}),this.groups[this.uniformOrder]=e.createBindGroup({label:"Uniform binding group",layout:this.layouts[this.uniformOrder],entries:t})}createStorageBindGroupLayout(e){if(!this.storageBindings.length)return;const t=new Array(this.storageBindings.length);this.storageBindings.forEach((r,s)=>{t[s]={binding:s,buffer:{type:r.type},visibility:r.visibility}}),this.layouts[this.storageOrder]=e.createBindGroupLayout({label:`Storage binding group layout (${this.name})`,entries:t})}createStorageBindGroup(e){if(!this.storageBindings.length)return;const t=new Array(this.storageBindings.length);this.storageBindings.forEach((r,s)=>{t[s]={binding:s,resource:{buffer:r.buffer.buffer}}}),this.groups[this.storageOrder]=e.createBindGroup({label:`Storage binding group (${this.name})`,layout:this.layouts[this.storageOrder],entries:t})}createVertexBufferLayout(){let e=0;this.vertexBindings.forEach((t,r)=>{const s=new Array(t.buffer.attributes.length);t.buffer.attributes.forEach((i,o)=>{s[o]={format:i.format,shaderLocation:e++,offset:i.offset}}),this.vertexLayouts[r]={arrayStride:t.buffer.stride,stepMode:t.stepMode,attributes:s}})}createTextureBindGroupLayout(e){if(!this.samplerBindings.length&&!this.textureBindings.length)return;const t=new Array(this.samplerBindings.length+this.textureBindings.length);this.samplerBindings.concat(this.textureBindings).forEach((r,s)=>{t[s]={binding:s,visibility:r.visibility,...r.sampler&&{sampler:{type:r.bindingType}},...r.texture&&!r.asStorage&&{texture:{sampleType:r.sampleType,viewDimension:r.viewDimension,multisampled:r.multisampled}},...r.texture&&r.asStorage&&{storageTexture:{access:r.accessibility,format:r.texture.format}}}}),this.layouts[this.textureOrder]=e.createBindGroupLayout({label:"Texture binding group layout",entries:t})}createTextureBindGroup(e){if(!this.samplerBindings.length&&!this.textureBindings.length)return;const t=new Array(this.samplerBindings.length+this.textureBindings.length);this.samplerBindings.concat(this.textureBindings).forEach((r,s)=>{t[s]={binding:s,...r.sampler&&{resource:r.sampler.sampler},...r.texture&&{resource:r.texture.view()}}}),!this.layouts[this.textureOrder]&&this.createTextureBindGroupLayout(e),this.groups[this.textureOrder]=e.createBindGroup({label:`Texture binding group (${this.name})`,layout:this.layouts[this.textureOrder],entries:t})}exportLayoutDescriptor(e){switch(e){case"uniform":{const t=new Array(this.uniforms.length+this.sharedUniforms.length);let r=0;return this.uniforms.concat(this.sharedUniforms).forEach(s=>{t[r]={binding:r++,visibility:s.visibility,buffer:{type:"uniform"}}}),{label:`Uniform binding group layout (${this.name})`,entries:t}}case"storage":{const t=new Array(this.storageBindings.length);return this.storageBindings.forEach((r,s)=>{t[s]={binding:s,buffer:{type:r.type},visibility:r.visibility}}),{label:`Storage binding group layout (${this.name})`,entries:t}}case"texture":{const t=new Array(this.samplerBindings.length+this.textureBindings.length);return this.samplerBindings.concat(this.textureBindings).forEach((r,s)=>{t[s]={binding:s,visibility:r.visibility,...r.sampler&&{sampler:{type:r.bindingType}},...r.texture&&!r.asStorage&&{texture:{sampleType:r.sampleType,viewDimension:r.viewDimension,multisampled:r.multisampled}},...r.texture&&r.asStorage&&{storageTexture:{access:r.accessibility,format:r.texture.format}}}}),{label:`Texture binding group layout (${this.name})`,entries:t}}}}exportDescriptor(e){switch(e){case"uniform":{const t=new Array(this.uniforms.length+this.sharedUniforms.length);let r=0;return this.uniforms.forEach(s=>{const i=this.uniformBuffer.areaMap[s.ref.name];t[r]={binding:r++,resource:{buffer:this.uniformBuffer.buffer,offset:i.start,size:i.length}}}),this.sharedUniforms.forEach(s=>{t[r]={binding:r++,resource:{buffer:s.buffer.buffer}}}),{label:`Uniform binding group (${this.name})`,layout:this.layouts[this.uniformOrder],entries:t}}case"storage":{const t=new Array(this.storageBindings.length);return this.storageBindings.forEach((r,s)=>{t[s]={binding:s,resource:{buffer:r.buffer.buffer}}}),{label:`Storage binding group (${this.name})`,layout:this.layouts[this.storageOrder],entries:t}}case"texture":{const t=new Array(this.samplerBindings.length+this.textureBindings.length);return this.samplerBindings.concat(this.textureBindings).forEach((r,s)=>{t[s]={binding:s,...r.sampler&&{resource:r.sampler.sampler},...r.texture&&{resource:r.texture.view()}}}),{label:`Texture binding group (${this.name})`,layout:this.layouts[this.textureOrder],entries:t}}}}crteateBindGroupLayouts(){(this.uniforms.length||this.sharedUniforms.length)&&M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"uniform",order:this.uniformOrder}),this.storageBindings.length&&M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"storage",order:this.storageOrder}),(this.samplerBindings.length||this.textureBindings.length)&&M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"texture",order:this.textureOrder})}createBindGroups(){this.createVertexBufferLayout(),(this.uniforms.length||this.sharedUniforms.length)&&(M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"uniform",order:this.uniformOrder}),M.dispatchEvent({type:"createBindGroup",emitter:this,bindGroupType:"uniform",order:this.uniformOrder})),this.storageBindings.length&&(M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"storage",order:this.storageOrder}),M.dispatchEvent({type:"createBindGroup",emitter:this,bindGroupType:"storage",order:this.storageOrder})),(this.samplerBindings.length||this.textureBindings.length)&&(M.dispatchEvent({type:"createBindGroupLayout",emitter:this,bindGroupType:"texture",order:this.textureOrder}),M.dispatchEvent({type:"createBindGroup",emitter:this,bindGroupType:"texture",order:this.textureOrder}))}tryMakeComplete(){if(this.isComplete)return!0;if(this.released)return!1;for(const e of this.textureBindings)if(!e.texture.texture)return!1;return this.createBindGroups(),this.isComplete=!0,!0}update(){}getIndirect(){return this.indirectBinding}getBindGroupLayouts(){return this.layouts}getBindGroups(){return this.groups}getVertexLayouts(){return this.vertexLayouts}setBindGroups(e){this.groups.forEach((t,r)=>{e.setBindGroup(r,t)})}setVertexBuffers(e){this.vertexBindings.forEach((t,r)=>{e.setVertexBuffer(r,t.buffer.buffer)})}getShader(){return this.shader.shaderModule}getIndex(){return this.indexBinding?this.indexBinding.buffer:void 0}destroy(){var e;return this.isComplete=!1,this.released=!0,this.range=null,this.uniforms.forEach(t=>{var r;t.ref=(r=t.ref)==null?void 0:r.release(),t.visibility=null,t.name=null,t.view=null,t.map=null}),this.uniforms=null,this.sharedUniforms.forEach(t=>{t.buffer=t.buffer.release(),t.visibility=null}),this.sharedUniforms=null,this.indexBinding&&(this.indexBinding.buffer=this.indexBinding.buffer.release(),this.indexBinding=null),this.indirectBinding&&(this.indirectBinding.buffer=this.indirectBinding.buffer.release(),this.indirectBinding=null),this.vertexBindings.forEach(t=>{t.buffer=t.buffer.release(),t.visibility=null,t.stepMode=null}),this.vertexBindings=null,this.storageBindings.forEach(t=>{t.buffer=t.buffer.release(),t.visibility=null,t.type=null}),this.storageBindings=null,this.textureBindings.forEach(t=>{t.callbackIndex=t.texture.removeCallback(t.callbackIndex),t.texture=t.texture.release(),t.viewDimension=null,t.accessibility=null,t.multisampled=null,t.sampleType=null,t.visibility=null,t.asStorage=null}),this.textureBindings=null,this.samplerBindings.forEach(t=>{t.sampler=t.sampler.release(),t.bindingType=null,t.visibility=null}),this.samplerBindings=null,this.vertexLayouts=null,this.layouts=null,this.groups=null,this.vertexLayouts=null,this.layouts=null,this.groups=null,this.uniformBuffer=(e=this.uniformBuffer)==null?void 0:e.release(),this.refCount=null,this.name=null,super.destroy(),null}}function kn(n){return Ie.create(n)}const Mn={color:{operation:"add",srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"},alpha:{operation:"add",srcFactor:"one",dstFactor:"one-minus-src-alpha"}},In={color:{operation:"add",srcFactor:"one",dstFactor:"one-minus-src-alpha"},alpha:{operation:"add",srcFactor:"one",dstFactor:"one-minus-src-alpha"}};class Ge{constructor(e){this.uuid=pe(),this.shader=e.shader.module.use(),this.name=e.name||"Render Pipeline",this.vsEntryPoint=e.shader.vsEntryPoint||"vMain",this.fsEntryPoint=e.shader.fsEntryPoint||"fMain",this.colorTargetStates=[],this.colorTargetStateDescriptions=e.colorTargetStates,this.depthStencilState=void 0,this.primitive=e.primitive||{cullMode:"none",topology:"triangle-list"},this.depthTest=e.depthTest,this.pipelineLayout=void 0,this.pipeline=void 0,this.asBundle=e.asBundle!==void 0?e.asBundle:!1,this.bundleDirty=this.asBundle,this.renderBundle=void 0,this.pipelineCreating=!1,this.isFinite=!1,this.triggerCount=0,this.executable=!0}static create(e){return new Ge(e)}createPipelineLayout(e,t){this.pipelineLayout=e.createPipelineLayout({label:`Rendering pipline layout (${this.name})`,bindGroupLayouts:t.getBindGroupLayouts()})}exportLayoutDescriptor(e){return this.layout?this.layout:(this.layout={label:`Rendering pipline layout (${this.name})`,bindGroupLayouts:e.getBindGroupLayouts()},this.layout)}exportDescriptor(e){const t={topology:this.primitive.topology,frontFace:this.primitive.frontFace,cullMode:this.primitive.cullMode,unclippedDepth:this.primitive.unclippedDepth,...e.indexBinding&&(this.primitive.topology==="line-strip"||this.primitive.topology==="triangle-strip")&&{stripIndexFormat:e.indexBinding.buffer.type}};return{label:`Rendering pipeline (${this.name})`,layout:this.pipelineLayout,vertex:{module:this.shader.shaderModule,entryPoint:this.vsEntryPoint,buffers:e.getVertexLayouts()},fragment:{module:this.shader.shaderModule,entryPoint:this.fsEntryPoint,targets:this.colorTargetStates},primitive:t,depthStencil:this.depthStencilState}}createTargetState(e){const t=e.makeColorFormats();this.colorTargetStates=new Array(t.length),t.forEach((s,i)=>{this.colorTargetStates[i]={format:s,blend:this.colorTargetStateDescriptions!==void 0?this.colorTargetStateDescriptions[i].blend:void 0,writeMask:this.colorTargetStateDescriptions!==void 0?this.colorTargetStateDescriptions[i].writeMask:void 0}});const r=e.makeDepthStencilFormat();r!==void 0&&(this.depthTest===void 0&&(this.depthTest=!0),this.depthStencilState={depthWriteEnabled:this.depthTest,depthCompare:"less",format:r})}createPipeline(e,t){this.pipelineCreating=!0,M.dispatchEvent({type:"createPipelineLayout",emitter:this,binding:t}),this.createTargetState(e),M.dispatchEvent({type:"createRenderPipelineAsync",emitter:this,binding:t})}tryMakeComplete(e,t){return this.pipeline?!0:(this.shader.isComplete()&&!this.pipelineCreating&&this.createPipeline(e,t),!1)}makeRenderBundle(e,t){M.dispatchEvent({type:"createRenderBundle",emitter:this,renderPass:e,binding:t})}executeRenderPass(e,t){t.setBindGroups(e),t.setVertexBuffers(e),e.setPipeline(this.pipeline),t.indexBinding?(e.setIndexBuffer(t.indexBinding.buffer.buffer,t.indexBinding.buffer.type),t.isIndirect?e.drawIndexedIndirect(t.indirectBinding.buffer.buffer,t.indirectBinding.byteOffset):e.drawIndexed(...t.range())):t.isIndirect?e.drawIndirect(t.indirectBinding.buffer.buffer,t.indirectBinding.byteOffset):e.draw(...t.range())}triggerFiniteTimes(e){return this.isFinite=!0,this.triggerCount=e,this}draw(e,t){this.isFinite&&!this.triggerCount||(this.triggerCount=Math.max(this.triggerCount-1,0),this.executable&&(this.asBundle?(this.bundleDirty&&this.makeRenderBundle(e,t),e.pass.executeBundles([this.renderBundle])):this.executeRenderPass(e.pass,t)))}}function Gn(n){return Ge.create(n)}class De{constructor(e){this.uuid=pe(),this.name=e.name,this.computecalls=[],this.pass=void 0,this.update(),this.executable=!0}static create(e){return new De(e)}update(){this.passDescription={label:`Compute pass (${this.name})`}}add(e,t){return this.computecalls.push({pipeline:e,binding:t}),this}empty(){this.computecalls=[]}execute(e){this.executable&&(this.pass=e.beginComputePass(this.passDescription),this.computecalls.forEach(({binding:t,pipeline:r})=>{!t.tryMakeComplete()||!r.tryMakeComplete(this,t)||!r.executable||!t.executable||r.dispatch(this,t)}),this.pass.end())}}function Dn(n){return De.create(n)}class je{constructor(e){this.uuid=pe(),this.name=e.name?e.name:"Computable builder",this.shader=e.shader.module.use(),this.csEntryPoint=e.shader.csEntryPoint||"cMain",this.constants=e.constants,this.pipelineLayout=void 0,this.pipeline=void 0,this.pipelineCreating=!1,this.isFinite=!1,this.triggerCount=0,this.executable=!0}static create(e){return new je(e)}createPipelineLayout(e){const t=Ke();this.pipelineLayout=t.createPipelineLayout({label:`compute pipline layout (${this.name})`,bindGroupLayouts:e.getBindGroupLayouts()})}createPipeline(e){const t=Ke();this.pipelineCreating=!0,this.createPipelineLayout(e),t.createComputePipelineAsync({label:`compute pipeline (${this.name})`,layout:this.pipelineLayout,compute:{module:this.shader.shaderModule,entryPoint:this.csEntryPoint,constants:this.constants}}).then(r=>{this.pipeline=r,this.pipelineCreating=!1}).catch(r=>{console.error(`Error::Compute Pipeline (${this.name}) Creation FAILED!`,r)})}isComplete(e,t){return this.pipeline?!0:(!this.pipelineCreating&&this.createPipeline(renderPass,t),!1)}tryMakeComplete(e,t){return this.pipeline?!0:(this.shader.isComplete()&&!this.pipelineCreating&&this.createPipeline(t),!1)}triggerFiniteTimes(e){return this.isFinite=!0,this.triggerCount=e,this}dispatch(e,t){this.isFinite&&!this.triggerCount||(this.triggerCount=Math.max(this.triggerCount-1,0),this.executable&&(t.setBindGroups(e.pass),e.pass.setPipeline(this.pipeline),t.isIndirect?e.pass.dispatchWorkgroupsIndirect(t.indirectBinding.buffer.buffer,t.indirectBinding.byteOffset):e.pass.dispatchWorkgroups(...t.range())))}}function jn(n){return je.create(n)}class zt{constructor(){this.workerIndex=0,this.textResource=new WeakMap,this.workerKeys=new Map}load(e,t){const r={index:this.workerIndex};this.workerKeys.set(this.workerIndex,r);const s={name:e,codeFunc:()=>this.textResource.get(r)?this.textResource.get(r).deref().text:null},i=me.create(s),o=new Worker(new URL("/assets/textLoader.worker-CLJPrufo.js",import.meta.url));return o.addEventListener("message",a=>{const{text:u}=a.data;this.textResource.set(r,new WeakRef({text:u})),o.terminate(),M.dispatchEvent({type:"createShader",emitter:i})}),o.addEventListener("error",a=>{console.error("Error loading image: ",a),o.terminate()}),o.postMessage({url:t}),this.workerIndex++,i}}const $n=new zt,q=11102230246251565e-32,G=134217729,Ht=(3+8*q)*q;function Ee(n,e,t,r,s){let i,o,a,u,h=e[0],c=r[0],l=0,f=0;c>h==c>-h?(i=h,h=e[++l]):(i=c,c=r[++f]);let m=0;if(l<n&&f<t)for(c>h==c>-h?(o=h+i,a=i-(o-h),h=e[++l]):(o=c+i,a=i-(o-c),c=r[++f]),i=o,a!==0&&(s[m++]=a);l<n&&f<t;)c>h==c>-h?(o=i+h,u=o-i,a=i-(o-u)+(h-u),h=e[++l]):(o=i+c,u=o-i,a=i-(o-u)+(c-u),c=r[++f]),i=o,a!==0&&(s[m++]=a);for(;l<n;)o=i+h,u=o-i,a=i-(o-u)+(h-u),h=e[++l],i=o,a!==0&&(s[m++]=a);for(;f<t;)o=i+c,u=o-i,a=i-(o-u)+(c-u),c=r[++f],i=o,a!==0&&(s[m++]=a);return(i!==0||m===0)&&(s[m++]=i),m}function qt(n,e){let t=e[0];for(let r=1;r<n;r++)t+=e[r];return t}function se(n){return new Float64Array(n)}const Vt=(3+16*q)*q,Jt=(2+12*q)*q,Kt=(9+64*q)*q*q,X=se(4),We=se(8),Xe=se(12),Ye=se(16),D=se(4);function Wt(n,e,t,r,s,i,o){let a,u,h,c,l,f,m,p,d,b,g,x,E,O,P,C,L,R;const w=n-s,_=t-s,S=e-i,A=r-i;O=w*A,f=G*w,m=f-(f-w),p=w-m,f=G*A,d=f-(f-A),b=A-d,P=p*b-(O-m*d-p*d-m*b),C=S*_,f=G*S,m=f-(f-S),p=S-m,f=G*_,d=f-(f-_),b=_-d,L=p*b-(C-m*d-p*d-m*b),g=P-L,l=P-g,X[0]=P-(g+l)+(l-L),x=O+g,l=x-O,E=O-(x-l)+(g-l),g=E-C,l=E-g,X[1]=E-(g+l)+(l-C),R=x+g,l=R-x,X[2]=x-(R-l)+(g-l),X[3]=R;let U=qt(4,X),v=Jt*o;if(U>=v||-U>=v||(l=n-w,a=n-(w+l)+(l-s),l=t-_,h=t-(_+l)+(l-s),l=e-S,u=e-(S+l)+(l-i),l=r-A,c=r-(A+l)+(l-i),a===0&&u===0&&h===0&&c===0)||(v=Kt*o+Ht*Math.abs(U),U+=w*c+A*a-(S*h+_*u),U>=v||-U>=v))return U;O=a*A,f=G*a,m=f-(f-a),p=a-m,f=G*A,d=f-(f-A),b=A-d,P=p*b-(O-m*d-p*d-m*b),C=u*_,f=G*u,m=f-(f-u),p=u-m,f=G*_,d=f-(f-_),b=_-d,L=p*b-(C-m*d-p*d-m*b),g=P-L,l=P-g,D[0]=P-(g+l)+(l-L),x=O+g,l=x-O,E=O-(x-l)+(g-l),g=E-C,l=E-g,D[1]=E-(g+l)+(l-C),R=x+g,l=R-x,D[2]=x-(R-l)+(g-l),D[3]=R;const k=Ee(4,X,4,D,We);O=w*c,f=G*w,m=f-(f-w),p=w-m,f=G*c,d=f-(f-c),b=c-d,P=p*b-(O-m*d-p*d-m*b),C=S*h,f=G*S,m=f-(f-S),p=S-m,f=G*h,d=f-(f-h),b=h-d,L=p*b-(C-m*d-p*d-m*b),g=P-L,l=P-g,D[0]=P-(g+l)+(l-L),x=O+g,l=x-O,E=O-(x-l)+(g-l),g=E-C,l=E-g,D[1]=E-(g+l)+(l-C),R=x+g,l=R-x,D[2]=x-(R-l)+(g-l),D[3]=R;const B=Ee(k,We,4,D,Xe);O=a*c,f=G*a,m=f-(f-a),p=a-m,f=G*c,d=f-(f-c),b=c-d,P=p*b-(O-m*d-p*d-m*b),C=u*h,f=G*u,m=f-(f-u),p=u-m,f=G*h,d=f-(f-h),b=h-d,L=p*b-(C-m*d-p*d-m*b),g=P-L,l=P-g,D[0]=P-(g+l)+(l-L),x=O+g,l=x-O,E=O-(x-l)+(g-l),g=E-C,l=E-g,D[1]=E-(g+l)+(l-C),R=x+g,l=R-x,D[2]=x-(R-l)+(g-l),D[3]=R;const F=Ee(B,Xe,4,D,Ye);return Ye[F-1]}function ae(n,e,t,r,s,i){const o=(e-i)*(t-s),a=(n-s)*(r-i),u=o-a,h=Math.abs(o+a);return Math.abs(u)>=Vt*h?u:-Wt(n,e,t,r,s,i,h)}const Qe=Math.pow(2,-52),le=new Uint32Array(512);class fe{static from(e,t=er,r=tr){const s=e.length,i=new Float64Array(s*2);for(let o=0;o<s;o++){const a=e[o];i[2*o]=t(a),i[2*o+1]=r(a)}return new fe(i)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*t-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:r,_hullTri:s,_hullHash:i}=this,o=e.length>>1;let a=1/0,u=1/0,h=-1/0,c=-1/0;for(let w=0;w<o;w++){const _=e[2*w],S=e[2*w+1];_<a&&(a=_),S<u&&(u=S),_>h&&(h=_),S>c&&(c=S),this._ids[w]=w}const l=(a+h)/2,f=(u+c)/2;let m,p,d;for(let w=0,_=1/0;w<o;w++){const S=Se(l,f,e[2*w],e[2*w+1]);S<_&&(m=w,_=S)}const b=e[2*m],g=e[2*m+1];for(let w=0,_=1/0;w<o;w++){if(w===m)continue;const S=Se(b,g,e[2*w],e[2*w+1]);S<_&&S>0&&(p=w,_=S)}let x=e[2*p],E=e[2*p+1],O=1/0;for(let w=0;w<o;w++){if(w===m||w===p)continue;const _=Qt(b,g,x,E,e[2*w],e[2*w+1]);_<O&&(d=w,O=_)}let P=e[2*d],C=e[2*d+1];if(O===1/0){for(let S=0;S<o;S++)this._dists[S]=e[2*S]-e[0]||e[2*S+1]-e[1];Q(this._ids,this._dists,0,o-1);const w=new Uint32Array(o);let _=0;for(let S=0,A=-1/0;S<o;S++){const U=this._ids[S],v=this._dists[U];v>A&&(w[_++]=U,A=v)}this.hull=w.subarray(0,_),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ae(b,g,x,E,P,C)<0){const w=p,_=x,S=E;p=d,x=P,E=C,d=w,P=_,C=S}const L=Zt(b,g,x,E,P,C);this._cx=L.x,this._cy=L.y;for(let w=0;w<o;w++)this._dists[w]=Se(e[2*w],e[2*w+1],L.x,L.y);Q(this._ids,this._dists,0,o-1),this._hullStart=m;let R=3;r[m]=t[d]=p,r[p]=t[m]=d,r[d]=t[p]=m,s[m]=0,s[p]=1,s[d]=2,i.fill(-1),i[this._hashKey(b,g)]=m,i[this._hashKey(x,E)]=p,i[this._hashKey(P,C)]=d,this.trianglesLen=0,this._addTriangle(m,p,d,-1,-1,-1);for(let w=0,_,S;w<this._ids.length;w++){const A=this._ids[w],U=e[2*A],v=e[2*A+1];if(w>0&&Math.abs(U-_)<=Qe&&Math.abs(v-S)<=Qe||(_=U,S=v,A===m||A===p||A===d))continue;let k=0;for(let W=0,Ft=this._hashKey(U,v);W<this._hashSize&&(k=i[(Ft+W)%this._hashSize],!(k!==-1&&k!==r[k]));W++);k=t[k];let B=k,F;for(;F=r[B],ae(U,v,e[2*B],e[2*B+1],e[2*F],e[2*F+1])>=0;)if(B=F,B===k){B=-1;break}if(B===-1)continue;let j=this._addTriangle(B,A,r[B],-1,-1,s[B]);s[A]=this._legalize(j+2),s[B]=j,R++;let I=r[B];for(;F=r[I],ae(U,v,e[2*I],e[2*I+1],e[2*F],e[2*F+1])<0;)j=this._addTriangle(I,A,F,s[A],-1,s[I]),s[A]=this._legalize(j+2),r[I]=I,R--,I=F;if(B===k)for(;F=t[B],ae(U,v,e[2*F],e[2*F+1],e[2*B],e[2*B+1])<0;)j=this._addTriangle(F,A,B,-1,s[B],s[F]),this._legalize(j+2),s[F]=j,r[B]=B,R--,B=F;this._hullStart=t[A]=B,r[B]=t[I]=A,r[A]=I,i[this._hashKey(U,v)]=A,i[this._hashKey(e[2*B],e[2*B+1])]=B}this.hull=new Uint32Array(R);for(let w=0,_=this._hullStart;w<R;w++)this.hull[w]=_,_=r[_];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(Xt(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:r,coords:s}=this;let i=0,o=0;for(;;){const a=r[e],u=e-e%3;if(o=u+(e+2)%3,a===-1){if(i===0)break;e=le[--i];continue}const h=a-a%3,c=u+(e+1)%3,l=h+(a+2)%3,f=t[o],m=t[e],p=t[c],d=t[l];if(Yt(s[2*f],s[2*f+1],s[2*m],s[2*m+1],s[2*p],s[2*p+1],s[2*d],s[2*d+1])){t[e]=d,t[a]=f;const g=r[l];if(g===-1){let E=this._hullStart;do{if(this._hullTri[E]===l){this._hullTri[E]=e;break}E=this._hullPrev[E]}while(E!==this._hullStart)}this._link(e,g),this._link(a,r[o]),this._link(o,l);const x=h+(a+1)%3;i<le.length&&(le[i++]=x)}else{if(i===0)break;e=le[--i]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,r,s,i,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=r,this._link(a,s),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Xt(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function Se(n,e,t,r){const s=n-t,i=e-r;return s*s+i*i}function Yt(n,e,t,r,s,i,o,a){const u=n-o,h=e-a,c=t-o,l=r-a,f=s-o,m=i-a,p=u*u+h*h,d=c*c+l*l,b=f*f+m*m;return u*(l*b-d*m)-h*(c*b-d*f)+p*(c*m-l*f)<0}function Qt(n,e,t,r,s,i){const o=t-n,a=r-e,u=s-n,h=i-e,c=o*o+a*a,l=u*u+h*h,f=.5/(o*h-a*u),m=(h*c-a*l)*f,p=(o*l-u*c)*f;return m*m+p*p}function Zt(n,e,t,r,s,i){const o=t-n,a=r-e,u=s-n,h=i-e,c=o*o+a*a,l=u*u+h*h,f=.5/(o*h-a*u),m=n+(h*c-a*l)*f,p=e+(o*l-u*c)*f;return{x:m,y:p}}function Q(n,e,t,r){if(r-t<=20)for(let s=t+1;s<=r;s++){const i=n[s],o=e[i];let a=s-1;for(;a>=t&&e[n[a]]>o;)n[a+1]=n[a--];n[a+1]=i}else{const s=t+r>>1;let i=t+1,o=r;te(n,s,i),e[n[t]]>e[n[r]]&&te(n,t,r),e[n[i]]>e[n[r]]&&te(n,i,r),e[n[t]]>e[n[i]]&&te(n,t,i);const a=n[i],u=e[a];for(;;){do i++;while(e[n[i]]<u);do o--;while(e[n[o]]>u);if(o<i)break;te(n,i,o)}n[t+1]=n[o],n[o]=a,r-i+1>=o-t?(Q(n,e,i,r),Q(n,e,t,o-1)):(Q(n,e,t,o-1),Q(n,e,i,r))}}function te(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function er(n){return n[0]}function tr(n){return n[1]}const Ze=1e-6;class K{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,r){e=+e,t=+t,r=+r;const s=e+r,i=t;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${i}`:(Math.abs(this._x1-s)>Ze||Math.abs(this._y1-i)>Ze)&&(this._+="L"+s+","+i),r&&(this._+=`A${r},${r},0,1,1,${e-r},${t}A${r},${r},0,1,1,${this._x1=s},${this._y1=i}`)}rect(e,t,r,s){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+r}v${+s}h${-r}Z`}value(){return this._||null}}class Oe{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class rr{constructor(e,[t,r,s,i]=[0,0,960,500]){if(!((s=+s)>=(t=+t))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=s,this.xmin=t,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:r},vectors:s}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let d=0,b=0,g=r.length,x,E;d<g;d+=3,b+=2){const O=r[d]*2,P=r[d+1]*2,C=r[d+2]*2,L=e[O],R=e[O+1],w=e[P],_=e[P+1],S=e[C],A=e[C+1],U=w-L,v=_-R,k=S-L,B=A-R,F=(U*B-v*k)*2;if(Math.abs(F)<1e-9){if(i===void 0){i=o=0;for(const I of t)i+=e[I*2],o+=e[I*2+1];i/=t.length,o/=t.length}const j=1e9*Math.sign((i-L)*B-(o-R)*k);x=(L+S)/2-j*B,E=(R+A)/2+j*k}else{const j=1/F,I=U*U+v*v,W=k*k+B*B;x=L+(B*I-v*W)*j,E=R+(U*W-k*I)*j}a[b]=x,a[b+1]=E}let u=t[t.length-1],h,c=u*4,l,f=e[2*u],m,p=e[2*u+1];s.fill(0);for(let d=0;d<t.length;++d)u=t[d],h=c,l=f,m=p,c=u*4,f=e[2*u],p=e[2*u+1],s[h+2]=s[c]=m-p,s[h+3]=s[c+1]=f-l}render(e){const t=e==null?e=new K:void 0,{delaunay:{halfedges:r,inedges:s,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let c=0,l=r.length;c<l;++c){const f=r[c];if(f<c)continue;const m=Math.floor(c/3)*2,p=Math.floor(f/3)*2,d=o[m],b=o[m+1],g=o[p],x=o[p+1];this._renderSegment(d,b,g,x,e)}let u,h=i[i.length-1];for(let c=0;c<i.length;++c){u=h,h=i[c];const l=Math.floor(s[h]/3)*2,f=o[l],m=o[l+1],p=u*4,d=this._project(f,m,a[p+2],a[p+3]);d&&this._renderSegment(f,m,d[0],d[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new K:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const r=t==null?t=new K:void 0,s=this._clip(e);if(s===null||!s.length)return;t.moveTo(s[0],s[1]);let i=s.length;for(;s[0]===s[i-2]&&s[1]===s[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)(s[o]!==s[o-2]||s[o+1]!==s[o-1])&&t.lineTo(s[o],s[o+1]);return t.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,r=e.length/2;t<r;++t){const s=this.cellPolygon(t);s&&(s.index=t,yield s)}}cellPolygon(e){const t=new Oe;return this.renderCell(e,t),t.value()}_renderSegment(e,t,r,s,i){let o;const a=this._regioncode(e,t),u=this._regioncode(r,s);a===0&&u===0?(i.moveTo(e,t),i.lineTo(r,s)):(o=this._clipSegment(e,t,r,s,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,r){return t=+t,t!==t||(r=+r,r!==r)?!1:this.delaunay._step(e,t,r)===e}*neighbors(e){const t=this._clip(e);if(t)for(const r of this.delaunay.neighbors(e)){const s=this._clip(r);if(s){e:for(let i=0,o=t.length;i<o;i+=2)for(let a=0,u=s.length;a<u;a+=2)if(t[i]===s[a]&&t[i+1]===s[a+1]&&t[(i+2)%o]===s[(a+u-2)%u]&&t[(i+3)%o]===s[(a+u-1)%u]){yield r;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:r,halfedges:s,triangles:i}}=this,o=r[e];if(o===-1)return null;const a=[];let u=o;do{const h=Math.floor(u/3);if(a.push(t[h*2],t[h*2+1]),u=u%3===2?u-2:u+1,i[u]!==e)break;u=s[u]}while(u!==o&&u!==-1);return a}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:r}=this,s=e*4;return this._simplify(r[s]||r[s+1]?this._clipInfinite(e,t,r[s],r[s+1],r[s+2],r[s+3]):this._clipFinite(e,t))}_clipFinite(e,t){const r=t.length;let s=null,i,o,a=t[r-2],u=t[r-1],h,c=this._regioncode(a,u),l,f=0;for(let m=0;m<r;m+=2)if(i=a,o=u,a=t[m],u=t[m+1],h=c,c=this._regioncode(a,u),h===0&&c===0)l=f,f=0,s?s.push(a,u):s=[a,u];else{let p,d,b,g,x;if(h===0){if((p=this._clipSegment(i,o,a,u,h,c))===null)continue;[d,b,g,x]=p}else{if((p=this._clipSegment(a,u,i,o,c,h))===null)continue;[g,x,d,b]=p,l=f,f=this._edgecode(d,b),l&&f&&this._edge(e,l,f,s,s.length),s?s.push(d,b):s=[d,b]}l=f,f=this._edgecode(g,x),l&&f&&this._edge(e,l,f,s,s.length),s?s.push(g,x):s=[g,x]}if(s)l=f,f=this._edgecode(s[0],s[1]),l&&f&&this._edge(e,l,f,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,r,s,i,o){const a=i<o;for(a&&([e,t,r,s,i,o]=[r,s,e,t,o,i]);;){if(i===0&&o===0)return a?[r,s,e,t]:[e,t,r,s];if(i&o)return null;let u,h,c=i||o;c&8?(u=e+(r-e)*(this.ymax-t)/(s-t),h=this.ymax):c&4?(u=e+(r-e)*(this.ymin-t)/(s-t),h=this.ymin):c&2?(h=t+(s-t)*(this.xmax-e)/(r-e),u=this.xmax):(h=t+(s-t)*(this.xmin-e)/(r-e),u=this.xmin),i?(e=u,t=h,i=this._regioncode(e,t)):(r=u,s=h,o=this._regioncode(r,s))}}_clipInfinite(e,t,r,s,i,o){let a=Array.from(t),u;if((u=this._project(a[0],a[1],r,s))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(u[0],u[1]),a=this._clipFinite(e,a))for(let h=0,c=a.length,l,f=this._edgecode(a[c-2],a[c-1]);h<c;h+=2)l=f,f=this._edgecode(a[h],a[h+1]),l&&f&&(h=this._edge(e,l,f,a,h),c=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,r,s,i){for(;t!==r;){let o,a;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin;break}(s[i]!==o||s[i+1]!==a)&&this.contains(e,o,a)&&(s.splice(i,0,o,a),i+=2)}return i}_project(e,t,r,s){let i=1/0,o,a,u;if(s<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/s)<i&&(u=this.ymin,a=e+(i=o)*r)}else if(s>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/s)<i&&(u=this.ymax,a=e+(i=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<i&&(a=this.xmax,u=t+(i=o)*s)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<i&&(a=this.xmin,u=t+(i=o)*s)}return[a,u]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const r=(t+2)%e.length,s=(t+4)%e.length;(e[t]===e[r]&&e[r]===e[s]||e[t+1]===e[r+1]&&e[r+1]===e[s+1])&&(e.splice(r,2),t-=2)}e.length||(e=null)}return e}}const nr=2*Math.PI,Y=Math.pow;function sr(n){return n[0]}function ir(n){return n[1]}function or(n){const{triangles:e,coords:t}=n;for(let r=0;r<e.length;r+=3){const s=2*e[r],i=2*e[r+1],o=2*e[r+2];if((t[o]-t[s])*(t[i+1]-t[s+1])-(t[i]-t[s])*(t[o+1]-t[s+1])>1e-10)return!1}return!0}function ar(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class ft{static from(e,t=sr,r=ir,s){return new ft("length"in e?lr(e,t,r,s):Float64Array.from(ur(e,t,r,s)))}constructor(e){this._delaunator=new fe(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&or(e)){this.collinear=Int32Array.from({length:t.length/2},(f,m)=>m).sort((f,m)=>t[2*f]-t[2*m]||t[2*f+1]-t[2*m+1]);const u=this.collinear[0],h=this.collinear[this.collinear.length-1],c=[t[2*u],t[2*u+1],t[2*h],t[2*h+1]],l=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,m=t.length/2;f<m;++f){const p=ar(t[2*f],t[2*f+1],l);t[2*f]=p[0],t[2*f+1]=p[1]}this._delaunator=new fe(t)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let u=0,h=r.length;u<h;++u){const c=i[u%3===2?u-2:u+1];(r[u]===-1||o[c]===-1)&&(o[c]=u)}for(let u=0,h=s.length;u<h;++u)a[s[u]]=u;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],o[s[0]]=1,s.length===2&&(o[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(e){return new rr(this,e)}*neighbors(e){const{inedges:t,hull:r,_hullIndex:s,halfedges:i,triangles:o,collinear:a}=this;if(a){const l=a.indexOf(e);l>0&&(yield a[l-1]),l<a.length-1&&(yield a[l+1]);return}const u=t[e];if(u===-1)return;let h=u,c=-1;do{if(yield c=o[h],h=h%3===2?h-2:h+1,o[h]!==e)return;if(h=i[h],h===-1){const l=r[(s[e]+1)%r.length];l!==c&&(yield l);return}}while(h!==u)}find(e,t,r=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const s=r;let i;for(;(i=this._step(r,e,t))>=0&&i!==r&&i!==s;)r=i;return i}_step(e,t,r){const{inedges:s,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:h}=this;if(s[e]===-1||!h.length)return(e+1)%(h.length>>1);let c=e,l=Y(t-h[e*2],2)+Y(r-h[e*2+1],2);const f=s[e];let m=f;do{let p=u[m];const d=Y(t-h[p*2],2)+Y(r-h[p*2+1],2);if(d<l&&(l=d,c=p),m=m%3===2?m-2:m+1,u[m]!==e)break;if(m=a[m],m===-1){if(m=i[(o[e]+1)%i.length],m!==p&&Y(t-h[m*2],2)+Y(r-h[m*2+1],2)<l)return m;break}}while(m!==f);return c}render(e){const t=e==null?e=new K:void 0,{points:r,halfedges:s,triangles:i}=this;for(let o=0,a=s.length;o<a;++o){const u=s[o];if(u<o)continue;const h=i[o]*2,c=i[u]*2;e.moveTo(r[h],r[h+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const r=e==null?e=new K:void 0,{points:s}=this;for(let i=0,o=s.length;i<o;i+=2){const a=s[i],u=s[i+1];e.moveTo(a+t,u),e.arc(a,u,t,0,nr)}return r&&r.value()}renderHull(e){const t=e==null?e=new K:void 0,{hull:r,points:s}=this,i=r[0]*2,o=r.length;e.moveTo(s[i],s[i+1]);for(let a=1;a<o;++a){const u=2*r[a];e.lineTo(s[u],s[u+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Oe;return this.renderHull(e),e.value()}renderTriangle(e,t){const r=t==null?t=new K:void 0,{points:s,triangles:i}=this,o=i[e*=3]*2,a=i[e+1]*2,u=i[e+2]*2;return t.moveTo(s[o],s[o+1]),t.lineTo(s[a],s[a+1]),t.lineTo(s[u],s[u+1]),t.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,r=e.length/3;t<r;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Oe;return this.renderTriangle(e,t),t.value()}}function lr(n,e,t,r){const s=n.length,i=new Float64Array(s*2);for(let o=0;o<s;++o){const a=n[o];i[o*2]=e.call(r,a,o,n),i[o*2+1]=t.call(r,a,o,n)}return i}function*ur(n,e,t,r){let s=0;for(const i of n)yield e.call(r,i,s,n),yield t.call(r,i,s,n),++s}function dt(n,e){return function(){return n.apply(e,arguments)}}const{toString:hr}=Object.prototype,{getPrototypeOf:$e}=Object,ye=(n=>e=>{const t=hr.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),H=n=>(n=n.toLowerCase(),e=>ye(e)===n),ge=n=>e=>typeof e===n,{isArray:ee}=Array,ne=ge("undefined");function cr(n){return n!==null&&!ne(n)&&n.constructor!==null&&!ne(n.constructor)&&$(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const pt=H("ArrayBuffer");function fr(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&pt(n.buffer),e}const dr=ge("string"),$=ge("function"),mt=ge("number"),be=n=>n!==null&&typeof n=="object",pr=n=>n===!0||n===!1,ue=n=>{if(ye(n)!=="object")return!1;const e=$e(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mr=H("Date"),yr=H("File"),gr=H("Blob"),br=H("FileList"),wr=n=>be(n)&&$(n.pipe),xr=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||$(n.append)&&((e=ye(n))==="formdata"||e==="object"&&$(n.toString)&&n.toString()==="[object FormData]"))},Er=H("URLSearchParams"),Sr=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),ee(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,n[a],a,n)}}function yt(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const gt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bt=n=>!ne(n)&&n!==gt;function Re(){const{caseless:n}=bt(this)&&this||{},e={},t=(r,s)=>{const i=n&&yt(e,s)||s;ue(e[i])&&ue(r)?e[i]=Re(e[i],r):ue(r)?e[i]=Re({},r):ee(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ie(arguments[r],t);return e}const _r=(n,e,t,{allOwnKeys:r}={})=>(ie(e,(s,i)=>{t&&$(s)?n[i]=dt(s,t):n[i]=s},{allOwnKeys:r}),n),Br=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Tr=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Ar=(n,e,t,r)=>{let s,i,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)o=s[i],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&$e(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Or=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Rr=n=>{if(!n)return null;if(ee(n))return n;let e=n.length;if(!mt(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Pr=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&$e(Uint8Array)),Cr=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},Ur=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Lr=H("HTMLFormElement"),vr=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),et=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Fr=H("RegExp"),wt=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ie(t,(s,i)=>{let o;(o=e(s,i,n))!==!1&&(r[i]=o||s)}),Object.defineProperties(n,r)},Nr=n=>{wt(n,(e,t)=>{if($(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if($(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},kr=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return ee(n)?r(n):r(String(n).split(e)),t},Mr=()=>{},Ir=(n,e)=>(n=+n,Number.isFinite(n)?n:e),_e="abcdefghijklmnopqrstuvwxyz",tt="0123456789",xt={DIGIT:tt,ALPHA:_e,ALPHA_DIGIT:_e+_e.toUpperCase()+tt},Gr=(n=16,e=xt.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Dr(n){return!!(n&&$(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const jr=n=>{const e=new Array(10),t=(r,s)=>{if(be(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ee(r)?[]:{};return ie(r,(o,a)=>{const u=t(o,s+1);!ne(u)&&(i[a]=u)}),e[s]=void 0,i}}return r};return t(n,0)},$r=H("AsyncFunction"),zr=n=>n&&(be(n)||$(n))&&$(n.then)&&$(n.catch),y={isArray:ee,isArrayBuffer:pt,isBuffer:cr,isFormData:xr,isArrayBufferView:fr,isString:dr,isNumber:mt,isBoolean:pr,isObject:be,isPlainObject:ue,isUndefined:ne,isDate:mr,isFile:yr,isBlob:gr,isRegExp:Fr,isFunction:$,isStream:wr,isURLSearchParams:Er,isTypedArray:Pr,isFileList:br,forEach:ie,merge:Re,extend:_r,trim:Sr,stripBOM:Br,inherits:Tr,toFlatObject:Ar,kindOf:ye,kindOfTest:H,endsWith:Or,toArray:Rr,forEachEntry:Cr,matchAll:Ur,isHTMLForm:Lr,hasOwnProperty:et,hasOwnProp:et,reduceDescriptors:wt,freezeMethods:Nr,toObjectSet:kr,toCamelCase:vr,noop:Mr,toFiniteNumber:Ir,findKey:yt,global:gt,isContextDefined:bt,ALPHABET:xt,generateString:Gr,isSpecCompliantForm:Dr,toJSONObject:jr,isAsyncFn:$r,isThenable:zr};function T(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s)}y.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Et=T.prototype,St={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{St[n]={value:n}});Object.defineProperties(T,St);Object.defineProperty(Et,"isAxiosError",{value:!0});T.from=(n,e,t,r,s,i)=>{const o=Object.create(Et);return y.toFlatObject(n,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),T.call(o,n.message,e,t,r,s),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const Hr=null;function Pe(n){return y.isPlainObject(n)||y.isArray(n)}function _t(n){return y.endsWith(n,"[]")?n.slice(0,-2):n}function rt(n,e,t){return n?n.concat(e).map(function(s,i){return s=_t(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function qr(n){return y.isArray(n)&&!n.some(Pe)}const Vr=y.toFlatObject(y,{},null,function(e){return/^is[A-Z]/.test(e)});function we(n,e,t){if(!y.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,b){return!y.isUndefined(b[d])});const r=t.metaTokens,s=t.visitor||c,i=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(e);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(y.isDate(p))return p.toISOString();if(!u&&y.isBlob(p))throw new T("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(p)||y.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,d,b){let g=p;if(p&&!b&&typeof p=="object"){if(y.endsWith(d,"{}"))d=r?d:d.slice(0,-2),p=JSON.stringify(p);else if(y.isArray(p)&&qr(p)||(y.isFileList(p)||y.endsWith(d,"[]"))&&(g=y.toArray(p)))return d=_t(d),g.forEach(function(E,O){!(y.isUndefined(E)||E===null)&&e.append(o===!0?rt([d],O,i):o===null?d:d+"[]",h(E))}),!1}return Pe(p)?!0:(e.append(rt(b,d,i),h(p)),!1)}const l=[],f=Object.assign(Vr,{defaultVisitor:c,convertValue:h,isVisitable:Pe});function m(p,d){if(!y.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error("Circular reference detected in "+d.join("."));l.push(p),y.forEach(p,function(g,x){(!(y.isUndefined(g)||g===null)&&s.call(e,g,y.isString(x)?x.trim():x,d,f))===!0&&m(g,d?d.concat(x):[x])}),l.pop()}}if(!y.isObject(n))throw new TypeError("data must be an object");return m(n),e}function nt(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ze(n,e){this._pairs=[],n&&we(n,this,e)}const Bt=ze.prototype;Bt.append=function(e,t){this._pairs.push([e,t])};Bt.toString=function(e){const t=e?function(r){return e.call(this,r,nt)}:nt;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Jr(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tt(n,e,t){if(!e)return n;const r=t&&t.encode||Jr,s=t&&t.serialize;let i;if(s?i=s(e,t):i=y.isURLSearchParams(e)?e.toString():new ze(e,t).toString(r),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class st{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kr=typeof URLSearchParams<"u"?URLSearchParams:ze,Wr=typeof FormData<"u"?FormData:null,Xr=typeof Blob<"u"?Blob:null,Yr={isBrowser:!0,classes:{URLSearchParams:Kr,FormData:Wr,Blob:Xr},protocols:["http","https","file","blob","url","data"]},Ot=typeof window<"u"&&typeof document<"u",Qr=(n=>Ot&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),Zr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",en=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ot,hasStandardBrowserEnv:Qr,hasStandardBrowserWebWorkerEnv:Zr},Symbol.toStringTag,{value:"Module"})),z={...en,...Yr};function tn(n,e){return we(n,new z.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return z.isNode&&y.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function rn(n){return y.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nn(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function Rt(n){function e(t,r,s,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=i>=t.length;return o=!o&&y.isArray(s)?s.length:o,u?(y.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!y.isObject(s[o]))&&(s[o]=[]),e(t,r,s[o],i)&&y.isArray(s[o])&&(s[o]=nn(s[o])),!a)}if(y.isFormData(n)&&y.isFunction(n.entries)){const t={};return y.forEachEntry(n,(r,s)=>{e(rn(r),s,t,0)}),t}return null}function sn(n,e,t){if(y.isString(n))try{return(e||JSON.parse)(n),y.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const He={transitional:At,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=y.isObject(e);if(i&&y.isHTMLForm(e)&&(e=new FormData(e)),y.isFormData(e))return s?JSON.stringify(Rt(e)):e;if(y.isArrayBuffer(e)||y.isBuffer(e)||y.isStream(e)||y.isFile(e)||y.isBlob(e))return e;if(y.isArrayBufferView(e))return e.buffer;if(y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tn(e,this.formSerializer).toString();if((a=y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return we(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),sn(e)):e}],transformResponse:[function(e){const t=this.transitional||He.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&y.isString(e)&&(r&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?T.from(a,T.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:z.classes.FormData,Blob:z.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],n=>{He.headers[n]={}});const qe=He,on=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),an=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!t||e[t]&&on[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},it=Symbol("internals");function re(n){return n&&String(n).trim().toLowerCase()}function he(n){return n===!1||n==null?n:y.isArray(n)?n.map(he):String(n)}function ln(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const un=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Be(n,e,t,r,s){if(y.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!y.isString(e)){if(y.isString(r))return e.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(e)}}function hn(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function cn(n,e){const t=y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class xe{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(a,u,h){const c=re(u);if(!c)throw new Error("header name must be a non-empty string");const l=y.findKey(s,c);(!l||s[l]===void 0||h===!0||h===void 0&&s[l]!==!1)&&(s[l||u]=he(a))}const o=(a,u)=>y.forEach(a,(h,c)=>i(h,c,u));return y.isPlainObject(e)||e instanceof this.constructor?o(e,t):y.isString(e)&&(e=e.trim())&&!un(e)?o(an(e),t):e!=null&&i(t,e,r),this}get(e,t){if(e=re(e),e){const r=y.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return ln(s);if(y.isFunction(t))return t.call(this,s,r);if(y.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=re(e),e){const r=y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Be(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(o){if(o=re(o),o){const a=y.findKey(r,o);a&&(!t||Be(r,r[a],a,t))&&(delete r[a],s=!0)}}return y.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||Be(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return y.forEach(this,(s,i)=>{const o=y.findKey(r,i);if(o){t[o]=he(s),delete t[i];return}const a=e?hn(i):String(i).trim();a!==i&&delete t[i],t[a]=he(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&y.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[it]=this[it]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=re(o);r[a]||(cn(s,o),r[a]=!0)}return y.isArray(e)?e.forEach(i):i(e),this}}xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(xe.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});y.freezeMethods(xe);const V=xe;function Te(n,e){const t=this||qe,r=e||t,s=V.from(r.headers);let i=r.data;return y.forEach(n,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Pt(n){return!!(n&&n.__CANCEL__)}function oe(n,e,t){T.call(this,n??"canceled",T.ERR_CANCELED,e,t),this.name="CanceledError"}y.inherits(oe,T,{__CANCEL__:!0});function fn(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new T("Request failed with status code "+t.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const dn=z.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const o=[n+"="+encodeURIComponent(e)];y.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),y.isString(r)&&o.push("path="+r),y.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pn(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function mn(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ct(n,e){return n&&!pn(e)?mn(n,e):e}const yn=z.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function s(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=s(window.location.href),function(o){const a=y.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function gn(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function bn(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),c=r[i];o||(o=h),t[s]=u,r[s]=h;let l=i,f=0;for(;l!==s;)f+=t[l++],l=l%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),h-o<e)return;const m=c&&h-c;return m?Math.round(f*1e3/m):void 0}}function ot(n,e){let t=0;const r=bn(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-t,u=r(a),h=i<=o;t=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&h?(o-i)/u:void 0,event:s};c[e?"download":"upload"]=!0,n(c)}}const wn=typeof XMLHttpRequest<"u",xn=wn&&function(n){return new Promise(function(t,r){let s=n.data;const i=V.from(n.headers).normalize();let{responseType:o,withXSRFToken:a}=n,u;function h(){n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let c;if(y.isFormData(s)){if(z.hasStandardBrowserEnv||z.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[d,...b]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...b].join("; "))}}let l=new XMLHttpRequest;if(n.auth){const d=n.auth.username||"",b=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";i.set("Authorization","Basic "+btoa(d+":"+b))}const f=Ct(n.baseURL,n.url);l.open(n.method.toUpperCase(),Tt(f,n.params,n.paramsSerializer),!0),l.timeout=n.timeout;function m(){if(!l)return;const d=V.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:n,request:l};fn(function(E){t(E),h()},function(E){r(E),h()},g),l=null}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){l&&(r(new T("Request aborted",T.ECONNABORTED,n,l)),l=null)},l.onerror=function(){r(new T("Network Error",T.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const g=n.transitional||At;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),r(new T(b,g.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,n,l)),l=null},z.hasStandardBrowserEnv&&(a&&y.isFunction(a)&&(a=a(n)),a||a!==!1&&yn(f))){const d=n.xsrfHeaderName&&n.xsrfCookieName&&dn.read(n.xsrfCookieName);d&&i.set(n.xsrfHeaderName,d)}s===void 0&&i.setContentType(null),"setRequestHeader"in l&&y.forEach(i.toJSON(),function(b,g){l.setRequestHeader(g,b)}),y.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),o&&o!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",ot(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",ot(n.onUploadProgress)),(n.cancelToken||n.signal)&&(u=d=>{l&&(r(!d||d.type?new oe(null,n,l):d),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const p=gn(f);if(p&&z.protocols.indexOf(p)===-1){r(new T("Unsupported protocol "+p+":",T.ERR_BAD_REQUEST,n));return}l.send(s||null)})},Ce={http:Hr,xhr:xn};y.forEach(Ce,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const at=n=>`- ${n}`,En=n=>y.isFunction(n)||n===null||n===!1,Ut={getAdapter:n=>{n=y.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let o;if(r=t,!En(t)&&(r=Ce[(o=String(t)).toLowerCase()],r===void 0))throw new T(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(at).join(`
`):" "+at(i[0]):"as no adapter specified";throw new T("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ce};function Ae(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new oe(null,n)}function lt(n){return Ae(n),n.headers=V.from(n.headers),n.data=Te.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ut.getAdapter(n.adapter||qe.adapter)(n).then(function(r){return Ae(n),r.data=Te.call(n,n.transformResponse,r),r.headers=V.from(r.headers),r},function(r){return Pt(r)||(Ae(n),r&&r.response&&(r.response.data=Te.call(n,n.transformResponse,r.response),r.response.headers=V.from(r.response.headers))),Promise.reject(r)})}const ut=n=>n instanceof V?n.toJSON():n;function Z(n,e){e=e||{};const t={};function r(h,c,l){return y.isPlainObject(h)&&y.isPlainObject(c)?y.merge.call({caseless:l},h,c):y.isPlainObject(c)?y.merge({},c):y.isArray(c)?c.slice():c}function s(h,c,l){if(y.isUndefined(c)){if(!y.isUndefined(h))return r(void 0,h,l)}else return r(h,c,l)}function i(h,c){if(!y.isUndefined(c))return r(void 0,c)}function o(h,c){if(y.isUndefined(c)){if(!y.isUndefined(h))return r(void 0,h)}else return r(void 0,c)}function a(h,c,l){if(l in e)return r(h,c);if(l in n)return r(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,c)=>s(ut(h),ut(c),!0)};return y.forEach(Object.keys(Object.assign({},n,e)),function(c){const l=u[c]||s,f=l(n[c],e[c],c);y.isUndefined(f)&&l!==a||(t[c]=f)}),t}const Lt="1.6.7",Ve={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ve[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ht={};Ve.transitional=function(e,t,r){function s(i,o){return"[Axios v"+Lt+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new T(s(o," has been removed"+(t?" in "+t:"")),T.ERR_DEPRECATED);return t&&!ht[o]&&(ht[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Sn(n,e,t){if(typeof n!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=n[i],u=a===void 0||o(a,i,n);if(u!==!0)throw new T("option "+i+" must be "+u,T.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new T("Unknown option "+i,T.ERR_BAD_OPTION)}}const Ue={assertOptions:Sn,validators:Ve},J=Ue.validators;class de{constructor(e){this.defaults=e,this.interceptors={request:new st,response:new st}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Z(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&Ue.assertOptions(r,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1),s!=null&&(y.isFunction(s)?t.paramsSerializer={serialize:s}:Ue.assertOptions(s,{encode:J.function,serialize:J.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&y.merge(i.common,i[t.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=V.concat(o,i);const a=[];let u=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(u=u&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});const h=[];this.interceptors.response.forEach(function(d){h.push(d.fulfilled,d.rejected)});let c,l=0,f;if(!u){const p=[lt.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,h),f=p.length,c=Promise.resolve(t);l<f;)c=c.then(p[l++],p[l++]);return c}f=a.length;let m=t;for(l=0;l<f;){const p=a[l++],d=a[l++];try{m=p(m)}catch(b){d.call(this,b);break}}try{c=lt.call(this,m)}catch(p){return Promise.reject(p)}for(l=0,f=h.length;l<f;)c=c.then(h[l++],h[l++]);return c}getUri(e){e=Z(this.defaults,e);const t=Ct(e.baseURL,e.url);return Tt(t,e.params,e.paramsSerializer)}}y.forEach(["delete","get","head","options"],function(e){de.prototype[e]=function(t,r){return this.request(Z(r||{},{method:e,url:t,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(e){function t(r){return function(i,o,a){return this.request(Z(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}de.prototype[e]=t(),de.prototype[e+"Form"]=t(!0)});const ce=de;class Je{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new oe(i,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Je(function(s){e=s}),cancel:e}}}const _n=Je;function Bn(n){return function(t){return n.apply(null,t)}}function Tn(n){return y.isObject(n)&&n.isAxiosError===!0}const Le={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Le).forEach(([n,e])=>{Le[e]=n});const An=Le;function vt(n){const e=new ce(n),t=dt(ce.prototype.request,e);return y.extend(t,ce.prototype,e,{allOwnKeys:!0}),y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return vt(Z(n,s))},t}const N=vt(qe);N.Axios=ce;N.CanceledError=oe;N.CancelToken=_n;N.isCancel=Pt;N.VERSION=Lt;N.toFormData=we;N.AxiosError=T;N.Cancel=N.CanceledError;N.all=function(e){return Promise.all(e)};N.spread=Bn;N.isAxiosError=Tn;N.mergeConfig=Z;N.AxiosHeaders=V;N.formToJSON=n=>Rt(y.isHTMLForm(n)?new FormData(n):n);N.getAdapter=Ut.getAdapter;N.HttpStatusCode=An;N.default=N;export{ft as D,Mn as N,In as P,Pn as a,kn as b,$n as c,Fn as d,jn as e,Dn as f,N as g,Nn as h,Ln as i,Gn as r,Un as s,vn as u,Cn as v};
