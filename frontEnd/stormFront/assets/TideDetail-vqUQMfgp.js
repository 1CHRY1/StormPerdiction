import{g as R,r as b,v as U,c as g,h as $,o as q,b as p,d as D,e,f as s,i as r,t as o,u as I,l as u,k as x,D as T,F as L,n as M,p as O,q as P,s as j,_ as A}from"./index-BqiXETND.js";import{g as G,c as H,a as V,i as J,e as E}from"./api-1qE25O1B.js";import"./stationInfo-BWRfB6xq.js";import"./getStation-BFvQ2HL2.js";const d=h=>(P("data-v-1dbbb64f"),h=h(),j(),h),K={class:"h-full w-full flex bg-slate-300"},Q={class:"flex-auto"},W={class:"text-xl font-semibold text-[#406abf]"},X={class:"flex flex-col w-[20rem] bg-white"},Y={class:"h-52 m-2 border border-zinc-300"},Z=d(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点详情",-1)),ee={class:"mx-3 my-2 flex flex-col"},te={class:"my-1 text-lg"},ae=d(()=>e("span",{class:"inline-block pr-2"},"站点名称:",-1)),le={class:"inline-block pr-3"},se={class:"my-1"},oe=d(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点类型:",-1)),ne={class:"inline-block pr-3"},ce={class:"my-1"},ie=d(()=>e("span",{class:"inline-block pr-2 text-lg"},"站点位置:",-1)),re={class:"inline-block pr-3"},ue={class:"my-1"},de=d(()=>e("span",{class:"inline-block pr-2 text-lg"},"当前时间:",-1)),_e={class:"inline-block pr-3"},pe={class:"flex flex-col flex-auto m-2 top-1 border border-zinc-300"},he=d(()=>e("div",{class:"h-10 leading-10 px-2 bg-[#1b6ec8] text-white"},"站点选择",-1)),ve=R({__name:"TideDetail",setup(h){let _=null;const y=b(),k=b("graph"),n=U(),S=b([]),t=b(null),l=g(()=>G(n.currentStationID)),m=g(()=>t.value===null||t.value.hpre.length!==0),N=g(()=>{if(t.value){const f=[];return t.value.hpre.forEach((c,i)=>{f.push({hpre:c,time:t.value.time[i],hyubao:t.value.isTyphoon?t.value.hyubao[i]:null,hadd:t.value.isTyphoon?t.value.hadd[i]:null})}),f}else return[]});return $(n,async()=>{t.value=await V(n.currentStationID),_&&(_.clear(),E(_,t.value,l.value,m.value))}),q(async()=>{S.value=await H(),t.value=await V(n.currentStationID),m.value&&(_=J(y),E(_,t.value,l.value,m.value))}),(f,c)=>{const i=u("el-tab-pane"),v=u("el-table-column"),B=u("el-table"),C=u("el-tabs"),z=u("el-radio"),F=u("el-radio-group");return p(),D("div",K,[e("div",Q,[s(C,{modelValue:k.value,"onUpdate:modelValue":c[0]||(c[0]=a=>k.value=a),type:"border-card",class:"bg-white h-full"},{default:r(()=>[s(i,{label:"折线图",name:"graph"},{default:r(()=>[e("div",{ref_key:"echartsRef",ref:y,class:"h-[86vh]"},null,512)]),_:1}),s(i,{label:"数据表",name:"table",class:"flex flex-col items-center"},{default:r(()=>[e("div",W,o(`${l.value.name}站点 ${l.value.time} 72 小时逐时潮位预报表`),1),s(B,{data:N.value,class:"h-[84vh]","highlight-current-row":!0},{default:r(()=>{var a,w;return[s(v,{prop:"time",label:"时间"}),s(v,{align:"center",prop:"hpre",label:"天文潮位 (hpre)"}),(a=t.value)!=null&&a.isTyphoon?(p(),x(v,{key:0,align:"center",prop:"hyubao",label:"总潮位 (hyubao)"})):T("",!0),(w=t.value)!=null&&w.isTyphoon?(p(),x(v,{key:1,align:"center",prop:"hadd",label:"台风增水"})):T("",!0)]}),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),e("div",X,[e("div",Y,[Z,e("div",ee,[e("div",te,[ae,e("span",le,o(l.value.name),1)]),e("div",se,[oe,e("span",ne,o(l.value.type==="sea"?"沿海":"沿江"),1)]),e("div",ce,[ie,e("span",re,o(l.value.lon),1),e("span",null,o(l.value.lat),1)]),e("div",ue,[de,e("span",_e,o(l.value.time),1)])])]),e("div",pe,[he,s(F,{modelValue:I(n).currentStationID,"onUpdate:modelValue":c[1]||(c[1]=a=>I(n).currentStationID=a),class:"py-2 px-4 block overflow-auto h-[66vh]"},{default:r(()=>[(p(!0),D(L,null,M(S.value,a=>(p(),x(z,{key:a.id,label:a.id,class:"block"},{default:r(()=>[O(o(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])])])}}}),xe=A(ve,[["__scopeId","data-v-1dbbb64f"]]);export{xe as default};
