datatypesCloud = [
    {
        "name": "FY4A真彩色",
        "url": "http://www.nmc.cn/publish/satellite/FY4A-true-color.htm",
    },
    {
        "name": "FY4A红外",
        "url": "http://www.nmc.cn/publish/satellite/FY4A-infrared.htm",
    },
    {
        "name": "FY4A可见光",
        "url": "http://www.nmc.cn/publish/satellite/FY4A-visible.htm",
    },
    {
        "name": "FY4A水汽",
        "url": "http://www.nmc.cn/publish/satellite/FY4A-water-vapour.htm",
    },
    {
        "name": "FY2G可见光",
        "url": "http://www.nmc.cn/publish/satellite/fy2evisible.html",
    },
    {
        "name": "FY2G增强图",
        "url": [
            {
                "name": "水汽",
                "url": "http://www.nmc.cn/publish/satellite/fy2e/water_vapor.html",
            },
            {
                "name": "红外一",
                "url": "http://www.nmc.cn/publish/satellite/fy2e/infrared_1.html",
            },
            {
                "name": "红外二",
                "url": "http://www.nmc.cn/publish/satellite/fy2e/infrared_2.html",
            },
        ],
    },
    {
        "name": "FY2G黑白图",
        "url": [
            {
                "name": "可见光",
                "url": "http://www.nmc.cn/publish/satellite/fy2e_bawhite/visible_light.html",
            },
            {
                "name": "中红外",
                "url": "http://www.nmc.cn/publish/satellite/fy2e_bawhite/mid-infrared.html",
            },
        ],
    },
    {
        "name": "FY2G圆盘图",
        "url": [
            {
                "name": "彩色圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-color.html",
            },
            {
                "name": "红外一圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-ir1.html",
            },
            {
                "name": "红外二圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-ir2.html",
            },
            {
                "name": "中红外圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-ir3.html",
            },
            {
                "name": "水汽圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-wv.html",
            },
            {
                "name": "可见光圆盘图",
                "url": "http://www.nmc.cn/publish/satellite/fy2c-disc-vis.html",
            },
        ],
    },
]
type1Cloud = "卫星云图"
datatypesRadar = [
    {"name": "全国", "url": "http://www.nmc.cn/publish/radar/chinaall.html"},
    {"name": "华北", "url": "http://www.nmc.cn/publish/radar/huabei.html"},
    {"name": "东北", "url": "http://www.nmc.cn/publish/radar/dongbei.html"},
    {"name": "华东", "url": "http://www.nmc.cn/publish/radar/huadong.html"},
    {"name": "华中", "url": "http://www.nmc.cn/publish/radar/huazhong.html"},
    {"name": "华南", "url": "http://www.nmc.cn/publish/radar/huanan.html"},
    {"name": "西南", "url": "http://www.nmc.cn/publish/radar/xinan.html"},
    {"name": "西北", "url": "http://www.nmc.cn/publish/radar/xibei.html"},
]
type1Radar = "雷达拼图"

datatypesPre = [
    {
        "name": "24小时降水量",
        "url": [
            {
                "name": "24小时",
                "url": "http://www.nmc.cn/publish/precipitation/1-day.html",
            },
            {
                "name": "48小时",
                "url": "http://www.nmc.cn/publish/precipitation/2-day.html",
            },
            {
                "name": "72小时",
                "url": "http://www.nmc.cn/publish/precipitation/3-day.html",
            },
            {
                "name": "96小时",
                "url": "http://www.nmc.cn/publish/precipitation/day4.html",
            },
            {
                "name": "120小时",
                "url": "http://www.nmc.cn/publish/precipitation/day5.html",
            },
            {
                "name": "144小时",
                "url": "http://www.nmc.cn/publish/precipitation/day6.html",
            },
            {
                "name": "168小时",
                "url": "http://www.nmc.cn/publish/precipitation/day7.html",
            },
        ],
    },
    {
        "name": "6小时降水量",
        "url": [
            {
                "name": "6小时",
                "url": "http://www.nmc.cn/publish/precipitation/6hours-6.html",
            },
            {
                "name": "12小时",
                "url": "http://www.nmc.cn/publish/precipitation/6hours-12.html",
            },
            {
                "name": "18小时",
                "url": "http://www.nmc.cn/publish/precipitation/6hours-18.html",
            },
            {
                "name": "24小时",
                "url": "http://www.nmc.cn/publish/precipitation/6hours-24.html",
            },
        ],
    },
]
type1Pre = "降水量预报"
datatypesRain = [
    {
        "name": "1小时降水量",
        "url": "http://www.nmc.cn/publish/observations/hourly-precipitation.html",
    },
    {
        "name": "6小时降水量",
        "url": "http://www.nmc.cn/publish/observations/6hour-precipitation.html",
    },
    {
        "name": "24小时降水量",
        "url": "http://www.nmc.cn/publish/observations/24hour-precipitation.html",
    },
    {
        "name": "近30天降水量",
        "url": [
            {
                "name": "近10天降水量",
                "url": "http://www.nmc.cn/publish/observations/precipitation-10day.html",
            },
            {
                "name": "近20天降水量",
                "url": "http://www.nmc.cn/publish/observations/precipitation-20day.html",
            },
            {
                "name": "近30天降水量",
                "url": "http://www.nmc.cn/publish/observations/precipitation-30day.html",
            },
        ],
    },
    {
        "name": "近30天降水量距平",
        "url": [
            {
                "name": "近10天降水量距平百分率",
                "url": "http://www.nmc.cn/publish/observations/precipitation-10pa.html",
            },
            {
                "name": "近20天降水量距平百分率",
                "url": "http://www.nmc.cn/publish/observations/precipitation-20pa.html",
            },
            {
                "name": "近30天降水量距平百分率",
                "url": "http://www.nmc.cn/publish/observations/precipitation-30pa.html",
            },
        ],
    },
]
type1Rain = "降水量实况"

import pypinyin


def getName(type1, datatypes, nameMap):
    nameMap[type1] = ""
    for datatype in datatypes:
        name = datatype["name"]
        type2 = name
        nameMap[type2] = ""
        url = datatype["url"]
        if type(url) != str:
            urls = url
            for item in urls:
                name = item["name"]
                url = item["url"]
                type3 = name
                nameMap[type3] = ""


def pinyinTransform(nameMap: dict[str, str]):
    result = dict()
    for key in nameMap.keys():
        pinyinList = pypinyin.pinyin(key, style=pypinyin.NORMAL)
        pinyin_string = ""
        for pinyin in pinyinList:
            pinyin_string += pinyin[0]
        result[pinyin_string] = key
        result[key] = pinyin_string
    return result


nameMap = dict()
getName(type1Cloud, datatypesCloud, nameMap)
getName(type1Pre, datatypesPre, nameMap)
getName(type1Radar, datatypesRadar, nameMap)
getName(type1Rain, datatypesRain, nameMap)
result = pinyinTransform(nameMap)
print(result)
